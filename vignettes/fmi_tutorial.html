<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>fmi basics</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">fmi basics</h1>



<div id="finnish-meteorological-institute-fmi-open-data-api-client-for-r" class="section level1">
<h1>Finnish Meteorological Institute (FMI) open data API client for R</h1>
<p>This R package (fmi) provides a client to access the <a href="http://en.ilmatieteenlaitos.fi/">Finnish Meteorological Institute</a> (Ilmatieteenlaitos) <a href="http://en.ilmatieteenlaitos.fi/open-data">open data</a>. This R package is a part of the <a href="http://ropengov.github.io">rOpenGov</a> project.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<div id="libraries" class="section level3">
<h3>Libraries</h3>
<p>The fmi package depends on the <a href="http://www.gdal.org/">GDAL</a> library and its <a href="http://www.gdal.org/ogr2ogr.html">command line tools</a>, and on <code>rgdal</code> package. If you have GDAL already installed, you might need to update it to newer version. Also, add the command line tools to the search path of your system. Below you can find some instructions on how to do these tasks on different platforms.</p>
<p>For <code>rgdal</code> package, please, see additional installation instructions in the <a href="https://github.com/rOpenGov/gisfin/blob/master/vignettes/gisfin_tutorial.md">gisfin package tutorial</a>.</p>
<div id="linux" class="section level4">
<h4>Linux</h4>
<p><strong>Installing GDAL:</strong></p>
<p>Install <code>gdal</code> / <code>gdal-devel</code> packages using your Linux distibution’s package manager. See <a href="https://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries">here</a> on some pointers on where to find suitable binaries.</p>
<p><strong>Adding GDAL command line tools to your path</strong></p>
<p>In Linux, the tools should be found from the path by default after installation. If not, use the <code>export</code> command from terminal, for example:</p>
<pre><code>export PATH=$PATH:/usr/local/gdal/bin</code></pre>
</div>
<div id="os-x" class="section level4">
<h4>OS X</h4>
<p><strong>Installing GDAL:</strong></p>
<p>See <a href="http://www.kyngchaos.com/software/frameworks">here</a>.</p>
<p><strong>Adding GDAL command line tools to your path</strong></p>
<p>From terminal, type:</p>
<pre><code>export PATH=$PATH:/Library/Frameworks/GDAL.framework/Programs</code></pre>
</div>
<div id="windows" class="section level4">
<h4>Windows</h4>
<p><strong>Installing GDAL:</strong></p>
<p>For installing GDAL the easy way see <a href="http://trac.osgeo.org/osgeo4w/" class="uri">http://trac.osgeo.org/osgeo4w/</a>.</p>
<p><strong>Adding GDAL command line tools to your path</strong></p>
<p>Open System from Control Panel and select “Advanced System Settings”. Click “Environment Variables” and select “Path” variable from the list (if you cannot edit, you do not have the rights).</p>
<p>Append <code>;C:\Program Files (x86)\GDAL</code> to the value field (note the semicolon).</p>
<p>If you’re using the OSGeo4W-installer, then you may have copy-paste semicolon followed by the path to GDAL <strong>and</strong> the path to “gdal19.dll” e.g.</p>
<p><code>;C:\Program Files\ms4w\tools\gdal-ogr\;C:\Program Files\ms4w\Apache\cgi-bin\</code></p>
</div>
<div id="ogr2ogr" class="section level4">
<h4>ogr2ogr</h4>
<p>Note that the actual location of GDAL may vary depending on your system. To test that the tools are found from the path, type the command in terminal (Command Prompt in Windows):</p>
<pre><code>ogr2ogr</code></pre>
<p>To test that you also have a recent version of GDAL:</p>
<pre><code>ogr2ogr --help</code></pre>
<p>You should see the options <code>-splitlistfields</code> and <code>-explodecollections</code> in the printed help. If not, you need to update GDAL.</p>
</div>
</div>
<div id="packages" class="section level3">
<h3>Packages</h3>
<p>Start R and follow these steps to install the required packages:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;devtools&quot;</span>, <span class="st">&quot;sp&quot;</span>, <span class="st">&quot;rgdal&quot;</span>, <span class="st">&quot;raster&quot;</span>))
<span class="kw">library</span>(devtools)
<span class="kw">install_github</span>(<span class="st">&quot;rOpenGov/rwfs&quot;</span>)</code></pre></div>
<p>Note that rgdal version 0.9-1 or newer is needed. Then install the fmi package itself:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install_github</span>(<span class="st">&quot;rOpenGov/fmi&quot;</span>)</code></pre></div>
</div>
</div>
<div id="api-key" class="section level2">
<h2>API key</h2>
<p>In order to use the FMI API, you need to obtain a personal API key first. To get the key, follow the instructions at <a href="https://ilmatieteenlaitos.fi/rekisteroityminen-avoimen-datan-kayttajaksi" class="uri">https://ilmatieteenlaitos.fi/rekisteroityminen-avoimen-datan-kayttajaksi</a> (appears to be available only in Finnish). Enter the API key from command line:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">apiKey &lt;-<span class="st"> &quot;ENTER YOUR API KEY HERE&quot;</span>
<span class="co">#apiKey &lt;- readLines(&quot;apikey.txt&quot;) # Or store the key in private file</span></code></pre></div>
</div>
<div id="available-data-sets-and-filtering" class="section level2">
<h2>Available data sets and filtering</h2>
<p>FMI provides a brief introduction to the data sets at <a href="http://en.ilmatieteenlaitos.fi/open-data-sets-available" class="uri">http://en.ilmatieteenlaitos.fi/open-data-sets-available</a>. A complete list of the available data sets and filtering parameters are described in <a href="http://en.ilmatieteenlaitos.fi/open-data-manual-fmi-wfs-services" class="uri">http://en.ilmatieteenlaitos.fi/open-data-manual-fmi-wfs-services</a>. Each data set is referenced with a stored query id, for example the id for the daily weather time series is <code>fmi::observations::weather::daily::timevaluepair</code>. This data set contains variables for daily precipitation rate, mean temperature, snow depth, and minimum and maximum temperature, see the description of <a href="http://en.ilmatieteenlaitos.fi/open-data-manual-fmi-wfs-services"><code>fmi::observations::weather::daily::multipointcoverage</code></a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(fmi)
request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey =</span> apiKey)</code></pre></div>
<p>The fmi package provides two types of queries: a manual one for direct access to the FMI API and an automated one for a convenient access obtaining the data sets.</p>
<p>In the manual case, stored query id and filter parameters are given with the <code>setParameters</code> method:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request$<span class="kw">setParameters</span>(<span class="dt">request =</span> <span class="st">&quot;getFeature&quot;</span>,
                      <span class="dt">storedquery_id =</span> <span class="st">&quot;fmi::observations::weather::daily::timevaluepair&quot;</span>,
                      <span class="dt">starttime =</span> <span class="st">&quot;2014-01-01T00:00:00Z&quot;</span>,
                      <span class="dt">endtime =</span> <span class="st">&quot;2014-01-01T00:00:00Z&quot;</span>,
                      <span class="dt">bbox =</span> <span class="st">&quot;19.09,59.3,31.59,70.13&quot;</span>,
                      <span class="dt">parameters =</span> <span class="st">&quot;rrday,snow,tday,tmin,tmax&quot;</span>)</code></pre></div>
<p>The parameter <code>request=&quot;getFeature&quot;</code> must be specified always.</p>
<p>For the automated case, see below.</p>
<div id="client-object" class="section level3">
<h3>Client object</h3>
<p>Queries to the FMI API are made by using the <code>FMIWFSClient</code> class object. For example, a manual request is dispatched with (continued from the previous example):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request=</span>request)
layers &lt;-<span class="st"> </span>client$<span class="kw">listLayers</span>()
response &lt;-<span class="st"> </span>client$<span class="kw">getLayer</span>(<span class="dt">layer=</span>layers[<span class="dv">1</span>], <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">splitListFields=</span><span class="ot">TRUE</span>))</code></pre></div>
<p>This example retrieves a list of data layers and the first layer is used to obtain the actual data. In fact, there is only single layer.</p>
<p>For the same stored query, an automated request method, <code>getDailyWeather</code>, exists as well, which is a more convenient way to retrieve the data. For example, to get all weather observations for the 1st of January in 2014:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey=</span>apiKey)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request=</span>request)
response &lt;-<span class="st"> </span>client$<span class="kw">getDailyWeather</span>(<span class="dt">startDateTime=</span><span class="st">&quot;2014-01-01&quot;</span>, <span class="dt">endDateTime=</span><span class="st">&quot;2014-01-01&quot;</span>, <span class="dt">bbox=</span><span class="kw">getFinlandBBox</span>())</code></pre></div>
<p>Here the function <code>getFinlandBBox</code> returns the bounding box surrounding the whole Finland. See the package documentation in R for all available automated queries. Currently, the package supports only a few data sets, which can be obtained using an automated query method. The rest of the stored queries are available with the generic method <code>getLayer</code>.</p>
<p>As rgdal does not currently support direct queries to the FMI API, the client saves the response to an intermedidate file first and then lets GDAL and rgdal to parse it. The <code>FMIWFSClient</code> class provides a caching mechanism, so that the response is needed to be downloaded only once for the same subsequent queries. The response file can be saved to a permanent location with the method <code>saveGMLFile</code> and loaded up into a <code>FMIWFSClient</code> object again by referencing the file via a <code>GMLFile</code> object. GML files saved from the FMI API directly can be loaded as well.</p>
</div>
<div id="supported-data-and-metadata" class="section level3">
<h3>Supported data and metadata</h3>
<p>The fmi package supports time-value-pair and GRIB data formats. Multipoint-coverage format is not currently supported. However, most of the multipoint-coverage data sets are availables in the time-value-pair format as well.</p>
<p>The automated queries attempt to associate appropriate metadata with the obtained data. The generic method <code>getLayer</code> ignores the metadata and therefore it is left to the user to handle the metadata. In case there is no documentation available, the metadata - or some of it - can be found from the actual XML response retrieved from the FMI API. The XML response can be browsed by entering the query URL to a browser or saving the response to a file first and then viewing it. A query URL can be printed from the request object directly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request</code></pre></div>
<p>For manual requests, coordinate reference system (if needed) must be specified manually by providing the <code>crs</code> argument as a character string for the <code>getLayer</code> method. The default CRS appears to be WGS84. Furthermore, longitude and latitude coordinates may need to be swapped, which can be done with the argument <code>swapAxisOrder=TRUE</code>. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">response &lt;-<span class="st"> </span>client$<span class="kw">getLayer</span>(<span class="dt">layer=</span><span class="st">&quot;PointTimeSeriesObservation&quot;</span>, <span class="dt">crs=</span><span class="st">&quot;+proj=longlat +datum=WGS84&quot;</span>, <span class="dt">swapAxisOrder=</span><span class="ot">TRUE</span>, <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">splitListFields=</span><span class="ot">TRUE</span>))</code></pre></div>
<p>The last parameter <code>splitListFields=TRUE</code> asks the <code>ogr2ogr</code> tool bundled with the GDAL library to convert the list fields to separate fields, so that rgdal can read the data properly.</p>
</div>
<div id="redundant-features" class="section level3">
<h3>Redundant features</h3>
<p>Some of the responses contain a redundant multipoint feature, which rgdal does not handle. A workaround is to remove the feature using <code>ogr2ogr</code>.</p>
<p>In such case, <code>explodeCollections=TRUE</code> needs to be specified for the <code>getLayer</code> method, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">response &lt;-<span class="st"> </span>client$<span class="kw">getLayer</span>(<span class="dt">layer=</span><span class="st">&quot;PointTimeSeriesObservation&quot;</span>, <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">explodeCollections=</span><span class="ot">TRUE</span>))</code></pre></div>
</div>
<div id="saving-data-and-reading-from-file" class="section level3">
<h3>Saving data and reading from file</h3>
<p>Unprocessed data can be saved to a file with the <code>saveGMLFile</code> method and later processed by referencing the file using a <code>GMLFile</code> object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey=</span>apiKey)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request=</span>request)
response &lt;-<span class="st"> </span>client$<span class="kw">getDailyWeather</span>(<span class="dt">startDateTime=</span><span class="st">&quot;2014-01-01&quot;</span>, <span class="dt">endDateTime=</span><span class="st">&quot;2014-01-02&quot;</span>, <span class="dt">bbox=</span><span class="kw">getFinlandBBox</span>())
tempFile &lt;-<span class="st"> </span><span class="kw">tempfile</span>()
client$<span class="kw">saveGMLFile</span>(<span class="dt">destFile=</span>tempFile)

request &lt;-<span class="st"> </span>rwfs::GMLFile$<span class="kw">new</span>(tempFile)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request=</span>request)
response &lt;-<span class="st"> </span>client$<span class="kw">getDailyWeather</span>()</code></pre></div>
</div>
<div id="error-handling" class="section level3">
<h3>Error handling</h3>
<p>TODO</p>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<div id="manual-request" class="section level3">
<h3>Manual request</h3>
<p>Load the library:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(fmi)</code></pre></div>
<p>Enter your API key for the examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">apiKey &lt;-<span class="st"> &quot;ENTER YOUR API KEY HERE&quot;</span></code></pre></div>
<p>Construct a request object for the manual query:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey =</span> apiKey)
request$<span class="kw">setParameters</span>(<span class="dt">request =</span> <span class="st">&quot;getFeature&quot;</span>,
                      <span class="dt">storedquery_id =</span> <span class="st">&quot;fmi::observations::weather::daily::timevaluepair&quot;</span>,
                      <span class="dt">starttime =</span> <span class="st">&quot;2014-01-01&quot;</span>,
                      <span class="dt">endtime =</span> <span class="st">&quot;2014-01-02&quot;</span>,
                      <span class="dt">bbox =</span> <span class="st">&quot;19.09,59.3,31.59,70.13&quot;</span>,
                      <span class="dt">parameters =</span> <span class="st">&quot;rrday,snow,tday,tmin,tmax&quot;</span>)</code></pre></div>
<p>The time parameters can be provided as objects that can be converted to the <code>POSIXlt</code> objects and bbox as an <code>extent</code> object from the <a href="http://cran.r-project.org/web/packages/raster/index.html"><code>raster</code></a> package as well.</p>
<p>Set up a client object and list the layers in the response:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request =</span> request)
layers &lt;-<span class="st"> </span>client$<span class="kw">listLayers</span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">layers</code></pre></div>
<pre><code>## [1] &quot;PointTimeSeriesObservation&quot;
## attr(,&quot;driver&quot;)
## [1] &quot;GML&quot;
## attr(,&quot;nlayers&quot;)
## [1] 1</code></pre>
<p>Parse the data from the response, which has been cached:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">response &lt;-<span class="st"> </span>client$<span class="kw">getLayer</span>(<span class="dt">layer =</span> layers[<span class="dv">1</span>], <span class="dt">crs =</span> <span class="st">&quot;+proj=longlat +datum=WGS84&quot;</span>, 
                            <span class="dt">swapAxisOrder =</span> <span class="ot">TRUE</span>, <span class="dt">parameters =</span> <span class="kw">list</span>(<span class="dt">splitListFields =</span> <span class="ot">TRUE</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sp)
<span class="kw">head</span>(<span class="kw">cbind</span>(<span class="kw">coordinates</span>(response), response@data[,<span class="kw">c</span>(<span class="st">&quot;name1&quot;</span>,<span class="st">&quot;time1&quot;</span>,<span class="st">&quot;result_MeasurementTimeseries_point_MeasurementTVP_value1&quot;</span>,<span class="st">&quot;time2&quot;</span>,<span class="st">&quot;result_MeasurementTimeseries_point_MeasurementTVP_value2&quot;</span>)]))</code></pre></div>
<pre><code>##   coords.x2 coords.x1                           name1                time1
## 1  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01T00:00:00Z
## 2  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01T00:00:00Z
## 3  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01T00:00:00Z
## 4  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01T00:00:00Z
## 5  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01T00:00:00Z
## 6  59.77909  21.37479                    Parainen Utö 2014-01-01T00:00:00Z
##   result_MeasurementTimeseries_point_MeasurementTVP_value1
## 1                                                      NaN
## 2                                                      NaN
## 3                                                      3.6
## 4                                                      2.8
## 5                                                      4.5
## 6                                                      0.3
##                  time2
## 1 2014-01-02T00:00:00Z
## 2 2014-01-02T00:00:00Z
## 3 2014-01-02T00:00:00Z
## 4 2014-01-02T00:00:00Z
## 5 2014-01-02T00:00:00Z
## 6 2014-01-02T00:00:00Z
##   result_MeasurementTimeseries_point_MeasurementTVP_value2
## 1                                                      NaN
## 2                                                      NaN
## 3                                                      3.8
## 4                                                      3.3
## 5                                                      4.3
## 6                                                     -1.0</code></pre>
<p>The data is returned as a <code>SpatialPointsDataFrame</code> object in “wide” format so that there is a row for each variable and observation location, but for each day (two days here) there are columns for time and observation indexed with a sequential number. The columns starting with <code>time</code> contains the time and the columns <code>result_MeasurementTimeseries_point_MeasurementTVP_value</code> the measurements, which are organized so that the variables <code>rrday, snow, tday, tmin, tmax</code> are repeated in the same order as specified in the request.</p>
</div>
<div id="automated-request" class="section level3">
<h3>Automated request</h3>
<p>The method <code>getDailyWeather</code> provides an automated query for the daily weather time series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey =</span> apiKey)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request =</span> request)
<span class="co"># FIXME: this example is broken</span>
response &lt;-<span class="st"> </span>client$<span class="kw">getDailyWeather</span>(<span class="dt">startDateTime =</span> <span class="st">&quot;2014-01-01&quot;</span>, <span class="dt">endDateTime =</span> <span class="st">&quot;2014-01-02&quot;</span>, <span class="dt">bbox =</span> <span class="kw">getFinlandBBox</span>())</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">cbind</span>(<span class="kw">coordinates</span>(response), response@data[,<span class="kw">c</span>(<span class="st">&quot;name1&quot;</span>,<span class="st">&quot;time&quot;</span>,<span class="st">&quot;variable&quot;</span>,<span class="st">&quot;measurement&quot;</span>)]))</code></pre></div>
<pre><code>##   coords.x2 coords.x1                           name1       time variable
## 1  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01    rrday
## 2  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01     snow
## 3  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01     tday
## 4  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01     tmin
## 5  60.12467  19.90362 Jomala Maarianhamina lentoasema 2014-01-01     tmax
## 6  59.77909  21.37479                    Parainen Utö 2014-01-01    rrday
##   measurement
## 1         NaN
## 2         NaN
## 3         3.6
## 4         2.8
## 5         4.5
## 6         0.3</code></pre>
<p>The automated method sets the known parameters automatically and returns cleaner result by combining the data with metadata data and converting the “wide” format to long format.</p>
</div>
<div id="raster" class="section level3">
<h3>Raster</h3>
<p>To request continuous space data manually, use the <code>getRaster</code> method, for instance:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey =</span> apiKey)
request$<span class="kw">setParameters</span>(<span class="dt">request =</span> <span class="st">&quot;getFeature&quot;</span>,
                      <span class="dt">storedquery_id =</span> <span class="st">&quot;fmi::observations::weather::monthly::grid&quot;</span>,
                      <span class="dt">starttime =</span> <span class="st">&quot;2012-01-01&quot;</span>,
                      <span class="dt">endtime =</span> <span class="st">&quot;2012-01-01&quot;</span>)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request =</span> request)
response &lt;-<span class="st"> </span>client$<span class="kw">getRaster</span>(<span class="dt">parameters =</span> <span class="kw">list</span>(<span class="dt">splitListFields =</span> <span class="ot">TRUE</span>))</code></pre></div>
<p>The response is returned as a <code>RasterBrick</code> object of the <code>raster</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">response</code></pre></div>
<pre><code>## class       : RasterBrick 
## dimensions  : 1165, 1901, 2214665, 2  (nrow, ncol, ncell, nlayers)
## resolution  : 0.008996004, 0.008993221  (x, y)
## extent      : 15.96441, 33.06581, 59.60727, 70.08437  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +a=6371229 +b=6371229 +no_defs 
## data source : /tmp/RtmpwdVXwi/file4e734ee52465 
## names       : file4e734ee52465.1, file4e734ee52465.2</code></pre>
<p>Set the NA value and plot the interpolated monthly mean temperature in January 2012:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">NAvalue</span>(response) &lt;-<span class="st"> </span><span class="dv">9999</span>
<span class="kw">plot</span>(response[[<span class="dv">1</span>]])</code></pre></div>
<p><img src="data:image/png;base64,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rpyD9e3bV6+2daiKioqTTz65jcvTEqe/RCPX0JjXmphmtjeJL5OIevgiCUeh1sM1p3C9h7hCzIOjUJlKV1Z6Y62HXQ6u6M//OoDfq0unC8CjZ0u02rdcqcFuvvnmyZMnf/HFF1dccUWvXr2Kioqi0eiOHTteeOGFxx9/fOnSpdkuYBOKbACINHR29l5Nn49N56HiwvSTqRso7ALA4x9SgFDrAoDDCBDiCg6jKrW/vtKWnyuhOnbkSsAmTZpk2/bChQufeeaZA7cPGjRo+fLl1113XbYKdhh/+jaf9yo1ZqkxXWe8TCET60czgEdG8C/eoZhCVQLdggBgEQKU7mP8RxLzh0mcjmW5EjAAEydOvO6663bs2LFz586qqqqysrKuXbt279695VP9P/roo8alWw+llMr47QzXj+aTX6Btl3KP/6Ptl6Wj8vaYr2RmWxyPns0/+jPtM+Ay8gxEPHwaQ9iUFuCxL4cCBoCIevTooZehrK+v37FjRyqVavlCdqWlpcOGDWtu77Jly/y4Xc22SxmATlfHFbTv8q9k5qxXaON3GEBM4YskACSV5Op4wrnB87xFixaNHz+emePx+L/927/piisYDN5zzz2e57X+LQoKCpYsWdL647Rc91X7/3tH/yFX/qsPIxQKPfvss9kuxTElV3oRFy5cOH36dH1HmXnz5i1fvnz+/PkvvfTSj3/84zlz5jz22GPZLuDRaGw0oqH7XhxviDknfvA9e/a8+uqrFy5cCKBv37433njjzJkz9a677rpr1apVrR8wVVhYOGjQoMYe/7q6ur/+9a8FBQWH/67Dq6urC4fDrbwNaW1tbXFxcWuOkEgkADR3m+MWikQiW7du/d///d8rr7yyNccRB8qVc7BIJDJixAj9vLKycvDgwY27RowYcd9997X+LS6//PK33nrrL3/5i35ZW1u7d+/e/Pz81hyzvr4+GAween285ZRSdXV1RUVFrSlGRgJWW1s7cODAs88+uzUHEQfLdhs17cILL7z22muVUvr53Xff3bjrpz/96dChQzP+jr/97W/1bdpa49JLL129enVrjrBjx45u3bq1shg/+clP7rnnnlYepKysrLKyspUHEQfJlRps7ty5F1xwwUUXXXTDDTdMnjx52rRpBQUFw4YNW7t27YIFCx544IFsF1CIo5ErARs+fPhrr702f/78CRMmKKUAzJgxA0D37t0XLVo0derUbBdQiKORKwEDMHz48FWrVtXU1OhrzcFg8KSTTurdu3drznCEyK6c+90tKSkpKSk5sJNDiPYrV66DCXFMkoAJ4SMJmBA+On4DZtt267tPLMs6urt3H3iEXCgGMvQfIg6SK0Ol2p5Sqra2trS0tDUHqampKSwsbOVQqcrKyg4dOrTmCLFYjIjC4XB2iyEOdfwGTIg2cPw2EYVoAxIwIXwkARPCRxIwIXwkARPCRxIwIXwkARPCRxIwIXwkARPCRxIwIXwkARPCRxIwIXx0fAXs1ltv1WvpNHr++efpq6ZMmeLTuyeTyXnz5p1yyil5eXmnnnrqwoULHcdp+2IAqK2tvemmm3r16pWfn3/66acfeEebNi7JMe94mf+jlHrllVeWLFkybdq0A7dv27atU6dOc+bMadxyyimn+FSGu+66a/HixT/72c+GDh26YcOG2bNn/+Mf//jP//zPNi4GgClTpqxdu3bu3Lk9evR47rnnJkyYUFRUdPHFF7d9SY592V6YsS2sWLGicYns22677cBdU6ZMGT16dBuUwXXdUCg0a9asxi1z5syxLCsWi7VlMZh53759AJYuXapfKqUGDhx47bXX6pdtWZLjwXHRRBw1atSbb765ZcuWbt26HbRr27Zt3/jGN6qqqjZt2lRdXe1fGXbu3NmzZ88Dbzbdu3dv13X37NnTlsUAEIlErr/++lGjRumXRNSxY0fDSP8mtGVJjgvZTnib6tu370E1WLdu3fr379843378+PF79uxpg5LU19d/85vf7Nu3r+u62SrGl19+uW7dujlz5hQUFPzxj3/UG7P1H3KsOi5qsOYkEol9+/b17Nnz3Xffra2tXbVq1Z/+9Kc2OKfftGnT+eefv3nz5uXLl5umma1iLF26dPTo0Q888MD48eOHDx+O7P2HHMuynfA2dWgNdpBf/vKXAKqrq30qwL59+8rLy4lo3Lhxn3/+ebaKcSDP86655pqxY8dmvSTHpOO6BjtU//79Aezdu9ePg2/dunXw4MFvvfXWhg0bVq5ceZj72fpajN/97ncTJ07khrVYDMP453/+59WrV3ue18YlOR4c1wFbs2ZNKBRas2ZN45aKioqioqI+ffpk/L2UUuPHjx8yZMhbb72l22NZKQYA27affPLJzZs3N255++23TzzxRNM027gkx4Pj5TpYky644IKBAweWl5ffcsstgwcPXr9+/b333rt48eJWLsPWpIqKig8//PDCCy986qmnDtw+YcKEtiwGgJEjRw4ZMuR73/vez372s86dO//hD39YsmTJ/fffj7b9DzleZLuN2qYOPQfbtWtXeXl5ly5d8vPzzzzzzF//+tf6JoAZ96tf/arJ//9du3a1ZTG07du3/8u//MuJJ56Yl5d3+umnP/HEE41v18YlOebJuohC+Oi4PgcTwm8SMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF8JAETwkcSMCF89P8By5fhvocozm0AAAAASUVORK5CYII=" /><!-- --></p>
<p>There is also the automated request method <code>getMonthlyWeatherRaster</code> for obtaining monthly weather data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">request &lt;-<span class="st"> </span>FMIWFSRequest$<span class="kw">new</span>(<span class="dt">apiKey =</span> apiKey)
client &lt;-<span class="st"> </span>FMIWFSClient$<span class="kw">new</span>(<span class="dt">request =</span> request)
response &lt;-<span class="st"> </span>client$<span class="kw">getMonthlyWeatherRaster</span>(<span class="dt">startDateTime =</span> <span class="st">&quot;2012-01-01&quot;</span>, <span class="dt">endDateTime =</span> <span class="st">&quot;2012-02-01&quot;</span>)</code></pre></div>
<p>The method sets the raster band names to match the variable name and the dates:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(response)</code></pre></div>
<pre><code>## [1] &quot;MeanTemperature.2012.01.01&quot; &quot;MeanTemperature.2012.02.01&quot;
## [3] &quot;Precipitation.2012.01.01&quot;   &quot;Precipitation.2012.02.01&quot;</code></pre>
</div>
</div>
<div id="licensing-and-further-information" class="section level2">
<h2>Licensing and further information</h2>
<p>For the open data license, see <a href="http://en.ilmatieteenlaitos.fi/open-data-licence" class="uri">http://en.ilmatieteenlaitos.fi/open-data-licence</a>. Further information about the open data and the API is provided by the FMI at <a href="http://en.ilmatieteenlaitos.fi/open-data" class="uri">http://en.ilmatieteenlaitos.fi/open-data</a>.</p>
</div>
<div id="citing-the-r-package" class="section level2">
<h2>Citing the R package</h2>
<p>This work can be freely used, modified and distributed under the <a href="http://en.wikipedia.org/wiki/BSD_licenses">Two-clause FreeBSD license</a>. Kindly cite the R package as ‘Jussi Jousimo, Joona Lehtomäki, Ilari Scheinin, Leo Lahti (C) 2014-2018. fmi R package. URL: <a href="http://www.github.com/rOpenGov/fmi" class="uri">http://www.github.com/rOpenGov/fmi</a>’.</p>
</div>
<div id="session-info" class="section level2">
<h2>Session info</h2>
<p>This tutorial was created with</p>
<pre><code>## R version 3.4.3 (2017-11-30)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 17.04
## 
## Matrix products: default
## BLAS: /usr/lib/openblas-base/libblas.so.3
## LAPACK: /usr/lib/libopenblasp-r0.2.19.so
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] raster_2.5-8         sp_1.2-5             fmi_0.2.1           
## [4] R6_2.2.2             rmarkdown_1.6.0.9001
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_0.12.13    rwfs_0.1.16     lattice_0.20-35 digest_0.6.13  
##  [5] rprojroot_1.2   grid_3.4.3      backports_1.1.1 magrittr_1.5   
##  [9] evaluate_0.10.1 stringi_1.1.5   rgdal_1.2-13    tools_3.4.3    
## [13] stringr_1.2.0   yaml_2.1.14     compiler_3.4.3  htmltools_0.3.6
## [17] knitr_1.17</code></pre>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
